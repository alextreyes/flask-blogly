{% block title %}Edit Post{% endblock %}

{% block content %}
  <h1>Edit Post</h1>
  <form action="{{ url_for('edit_post', post_id=post.id) }}" method="post">
    <label for="title">Title:</label><br>
    <input type="text" id="title" name="title" value="{{ post.title }}"><br><br>
    
    <label for="content">Content:</label><br>
    <textarea id="content" name="content" rows="5" cols="40">{{ post.content }}</textarea><br><br>
    
    <button type="submit">Update Post</button>
    <a href="{{ url_for('view_post', post_id=post.id) }}"><button type="button">Cancel</button></a>
    <!-- Tag selection -->
    <h2>Select Tags:</h2>
    <ul>
      {% for tag in tags %}
        <li>
          <input type="checkbox" id="tag_{{ tag.id }}" name="tags" value="{{ tag.id }}"
                 {% if tag.id in post_tags %} checked {% endif %}>
          <label for="tag_{{ tag.id }}">{{ tag.name }}</label>
        </li>
      {% endfor %}
    </ul>
{% endblock %}